--- /dev/null
+++ nemiver-0.4.0/compile
@@ -0,0 +1,142 @@
+#! /bin/sh
+# Wrapper for compilers which do not understand `-c -o'.
+
+scriptversion=2005-05-14.22
+
+# Copyright (C) 1999, 2000, 2003, 2004, 2005 Free Software Foundation, Inc.
+# Written by Tom Tromey <tromey@cygnus.com>.
+#
+# This program is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2, or (at your option)
+# any later version.
+#
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the Free Software
+# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+
+# As a special exception to the GNU General Public License, if you
+# distribute this file as part of a program that contains a
+# configuration script generated by Autoconf, you may include it under
+# the same distribution terms that you use for the rest of that program.
+
+# This file is maintained in Automake, please report
+# bugs to <bug-automake@gnu.org> or send patches to
+# <automake-patches@gnu.org>.
+
+case $1 in
+  '')
+     echo "$0: No command.  Try \`$0 --help' for more information." 1>&2
+     exit 1;
+     ;;
+  -h | --h*)
+    cat <<\EOF
+Usage: compile [--help] [--version] PROGRAM [ARGS]
+
+Wrapper for compilers which do not understand `-c -o'.
+Remove `-o dest.o' from ARGS, run PROGRAM with the remaining
+arguments, and rename the output as expected.
+
+If you are trying to build a whole package this is not the
+right script to run: please start by reading the file `INSTALL'.
+
+Report bugs to <bug-automake@gnu.org>.
+EOF
+    exit $?
+    ;;
+  -v | --v*)
+    echo "compile $scriptversion"
+    exit $?
+    ;;
+esac
+
+ofile=
+cfile=
+eat=
+
+for arg
+do
+  if test -n "$eat"; then
+    eat=
+  else
+    case $1 in
+      -o)
+	# configure might choose to run compile as `compile cc -o foo foo.c'.
+	# So we strip `-o arg' only if arg is an object.
+	eat=1
+	case $2 in
+	  *.o | *.obj)
+	    ofile=$2
+	    ;;
+	  *)
+	    set x "$@" -o "$2"
+	    shift
+	    ;;
+	esac
+	;;
+      *.c)
+	cfile=$1
+	set x "$@" "$1"
+	shift
+	;;
+      *)
+	set x "$@" "$1"
+	shift
+	;;
+    esac
+  fi
+  shift
+done
+
+if test -z "$ofile" || test -z "$cfile"; then
+  # If no `-o' option was seen then we might have been invoked from a
+  # pattern rule where we don't need one.  That is ok -- this is a
+  # normal compilation that the losing compiler can handle.  If no
+  # `.c' file was seen then we are probably linking.  That is also
+  # ok.
+  exec "$@"
+fi
+
+# Name of file we expect compiler to create.
+cofile=`echo "$cfile" | sed -e 's|^.*/||' -e 's/\.c$/.o/'`
+
+# Create the lock directory.
+# Note: use `[/.-]' here to ensure that we don't use the same name
+# that we are using for the .o file.  Also, base the name on the expected
+# object file name, since that is what matters with a parallel build.
+lockdir=`echo "$cofile" | sed -e 's|[/.-]|_|g'`.d
+while true; do
+  if mkdir "$lockdir" >/dev/null 2>&1; then
+    break
+  fi
+  sleep 1
+done
+# FIXME: race condition here if user kills between mkdir and trap.
+trap "rmdir '$lockdir'; exit 1" 1 2 15
+
+# Run the compile.
+"$@"
+ret=$?
+
+if test -f "$cofile"; then
+  mv "$cofile" "$ofile"
+elif test -f "${cofile}bj"; then
+  mv "${cofile}bj" "$ofile"
+fi
+
+rmdir "$lockdir"
+exit $ret
+
+# Local Variables:
+# mode: shell-script
+# sh-indentation: 2
+# eval: (add-hook 'write-file-hooks 'time-stamp)
+# time-stamp-start: "scriptversion="
+# time-stamp-format: "%:y-%02m-%02d.%02H"
+# time-stamp-end: "$"
+# End:

--- nemiver-0.4.0.orig/Makefile.in
+++ nemiver-0.4.0/Makefile.in
@@ -40,8 +40,8 @@
 DIST_COMMON = README $(am__configure_deps) $(srcdir)/Makefile.am \
 	$(srcdir)/Makefile.in $(srcdir)/config.h.in \
 	$(top_srcdir)/configure AUTHORS COPYING ChangeLog INSTALL NEWS \
-	TODO config.guess config.sub depcomp install-sh ltmain.sh \
-	missing mkinstalldirs
+	TODO compile config.guess config.sub depcomp install-sh \
+	ltmain.sh missing mkinstalldirs
 subdir = .
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/ax_boost_base.m4 \


--- nemiver-0.4.0.orig/src/common/Makefile.in
+++ nemiver-0.4.0/src/common/Makefile.in
@@ -58,10 +58,10 @@
     *) f=$$p;; \
   esac;
 am__strip_dir = `echo $$p | sed -e 's|^.*/||'`;
-am__installdirs = "$(DESTDIR)$(libdir)" "$(DESTDIR)$(pkgconfigdir)" \
-	"$(DESTDIR)$(publicheadersdir)"
-libLTLIBRARIES_INSTALL = $(INSTALL)
-LTLIBRARIES = $(lib_LTLIBRARIES)
+am__installdirs = "$(DESTDIR)$(nemivercommondir)" \
+	"$(DESTDIR)$(pkgconfigdir)" "$(DESTDIR)$(publicheadersdir)"
+nemivercommonLTLIBRARIES_INSTALL = $(INSTALL)
+LTLIBRARIES = $(nemivercommon_LTLIBRARIES)
 libnemivercommon_la_LIBADD =
 am__objects_1 =
 am_libnemivercommon_la_OBJECTS = $(am__objects_1) nmv-ustring.lo \
@@ -327,7 +327,8 @@
 target_cpu = @target_cpu@
 target_os = @target_os@
 target_vendor = @target_vendor@
-lib_LTLIBRARIES = libnemivercommon.la
+nemivercommon_LTLIBRARIES = libnemivercommon.la
+nemivercommondir = $(libdir)/nemiver
 headers = \
 nmv-api-macros.h \
 nmv-namespace.h \
@@ -391,7 +392,9 @@
 
 publicheaders_DATA = $(headers)
 publicheadersdir = $(NEMIVER_INCLUDE_DIR)/common
-libnemivercommon_la_LDFLAGS = @NEMIVERCOMMON_LIBS@ -lutil
+libnemivercommon_la_LDFLAGS = @NEMIVERCOMMON_LIBS@ -lutil \
+		-avoid-version -rpath $(libdir)/nemiver
+
 pkgconfigdir = $(libdir)/pkgconfig
 pkgconfig_DATA = libnemivercommon.pc
 INCLUDES = @NEMIVERCOMMON_CFLAGS@ \
@@ -439,35 +442,35 @@
 	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
 libnemivercommon.pc: $(top_builddir)/config.status $(srcdir)/libnemivercommon.pc.in
 	cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@
-install-libLTLIBRARIES: $(lib_LTLIBRARIES)
+install-nemivercommonLTLIBRARIES: $(nemivercommon_LTLIBRARIES)
 	@$(NORMAL_INSTALL)
-	test -z "$(libdir)" || $(mkdir_p) "$(DESTDIR)$(libdir)"
-	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
+	test -z "$(nemivercommondir)" || $(mkdir_p) "$(DESTDIR)$(nemivercommondir)"
+	@list='$(nemivercommon_LTLIBRARIES)'; for p in $$list; do \
 	  if test -f $$p; then \
 	    f=$(am__strip_dir) \
-	    echo " $(LIBTOOL) --mode=install $(libLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(libdir)/$$f'"; \
-	    $(LIBTOOL) --mode=install $(libLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) "$$p" "$(DESTDIR)$(libdir)/$$f"; \
+	    echo " $(LIBTOOL) --mode=install $(nemivercommonLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(nemivercommondir)/$$f'"; \
+	    $(LIBTOOL) --mode=install $(nemivercommonLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) "$$p" "$(DESTDIR)$(nemivercommondir)/$$f"; \
 	  else :; fi; \
 	done
 
-uninstall-libLTLIBRARIES:
+uninstall-nemivercommonLTLIBRARIES:
 	@$(NORMAL_UNINSTALL)
-	@set -x; list='$(lib_LTLIBRARIES)'; for p in $$list; do \
+	@set -x; list='$(nemivercommon_LTLIBRARIES)'; for p in $$list; do \
 	  p=$(am__strip_dir) \
-	  echo " $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(libdir)/$$p'"; \
-	  $(LIBTOOL) --mode=uninstall rm -f "$(DESTDIR)$(libdir)/$$p"; \
+	  echo " $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(nemivercommondir)/$$p'"; \
+	  $(LIBTOOL) --mode=uninstall rm -f "$(DESTDIR)$(nemivercommondir)/$$p"; \
 	done
 
-clean-libLTLIBRARIES:
-	-test -z "$(lib_LTLIBRARIES)" || rm -f $(lib_LTLIBRARIES)
-	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
+clean-nemivercommonLTLIBRARIES:
+	-test -z "$(nemivercommon_LTLIBRARIES)" || rm -f $(nemivercommon_LTLIBRARIES)
+	@list='$(nemivercommon_LTLIBRARIES)'; for p in $$list; do \
 	  dir="`echo $$p | sed -e 's|/[^/]*$$||'`"; \
 	  test "$$dir" != "$$p" || dir=.; \
 	  echo "rm -f \"$${dir}/so_locations\""; \
 	  rm -f "$${dir}/so_locations"; \
 	done
 libnemivercommon.la: $(libnemivercommon_la_OBJECTS) $(libnemivercommon_la_DEPENDENCIES) 
-	$(CXXLINK) -rpath $(libdir) $(libnemivercommon_la_LDFLAGS) $(libnemivercommon_la_OBJECTS) $(libnemivercommon_la_LIBADD) $(LIBS)
+	$(CXXLINK) -rpath $(nemivercommondir) $(libnemivercommon_la_LDFLAGS) $(libnemivercommon_la_OBJECTS) $(libnemivercommon_la_LIBADD) $(LIBS)
 
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
@@ -644,7 +647,7 @@
 check: check-am
 all-am: Makefile $(LTLIBRARIES) $(DATA)
 installdirs:
-	for dir in "$(DESTDIR)$(libdir)" "$(DESTDIR)$(pkgconfigdir)" "$(DESTDIR)$(publicheadersdir)"; do \
+	for dir in "$(DESTDIR)$(nemivercommondir)" "$(DESTDIR)$(pkgconfigdir)" "$(DESTDIR)$(publicheadersdir)"; do \
 	  test -z "$$dir" || $(mkdir_p) "$$dir"; \
 	done
 install: install-am
@@ -673,7 +676,7 @@
 	@echo "it deletes files that may require special tools to rebuild."
 clean: clean-am
 
-clean-am: clean-generic clean-libLTLIBRARIES clean-libtool \
+clean-am: clean-generic clean-libtool clean-nemivercommonLTLIBRARIES \
 	mostlyclean-am
 
 distclean: distclean-am
@@ -692,9 +695,10 @@
 
 info-am:
 
-install-data-am: install-pkgconfigDATA install-publicheadersDATA
+install-data-am: install-nemivercommonLTLIBRARIES \
+	install-pkgconfigDATA install-publicheadersDATA
 
-install-exec-am: install-libLTLIBRARIES
+install-exec-am:
 
 install-info: install-info-am
 
@@ -720,22 +724,22 @@
 
 ps-am:
 
-uninstall-am: uninstall-info-am uninstall-libLTLIBRARIES \
+uninstall-am: uninstall-info-am uninstall-nemivercommonLTLIBRARIES \
 	uninstall-pkgconfigDATA uninstall-publicheadersDATA
 
 .PHONY: CTAGS GTAGS all all-am check check-am clean clean-generic \
-	clean-libLTLIBRARIES clean-libtool ctags distclean \
+	clean-libtool clean-nemivercommonLTLIBRARIES ctags distclean \
 	distclean-compile distclean-generic distclean-libtool \
 	distclean-tags distdir dvi dvi-am html html-am info info-am \
 	install install-am install-data install-data-am install-exec \
-	install-exec-am install-info install-info-am \
-	install-libLTLIBRARIES install-man install-pkgconfigDATA \
+	install-exec-am install-info install-info-am install-man \
+	install-nemivercommonLTLIBRARIES install-pkgconfigDATA \
 	install-publicheadersDATA install-strip installcheck \
 	installcheck-am installdirs maintainer-clean \
 	maintainer-clean-generic mostlyclean mostlyclean-compile \
 	mostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \
 	tags uninstall uninstall-am uninstall-info-am \
-	uninstall-libLTLIBRARIES uninstall-pkgconfigDATA \
+	uninstall-nemivercommonLTLIBRARIES uninstall-pkgconfigDATA \
 	uninstall-publicheadersDATA
 
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
--- nemiver-0.4.0.orig/src/uicommon/Makefile.in
+++ nemiver-0.4.0/src/uicommon/Makefile.in
@@ -52,8 +52,9 @@
 CONFIG_CLEAN_FILES =
 LTLIBRARIES = $(noinst_LTLIBRARIES)
 libnemiveruicommon_la_DEPENDENCIES =
-am_libnemiveruicommon_la_OBJECTS = nmv-ui-utils.lo ephy-spinner.lo \
-	ephy-spinner-tool-item.lo nmv-spinner.lo \
+am_libnemiveruicommon_la_OBJECTS = nmv-ui-utils.lo \
+	libnemiveruicommon_la-ephy-spinner.lo \
+	libnemiveruicommon_la-ephy-spinner-tool-item.lo nmv-spinner.lo \
 	nmv-spinner-tool-item.lo nmv-popup-tip.lo nmv-terminal.lo \
 	nmv-source-editor.lo
 libnemiveruicommon_la_OBJECTS = $(am_libnemiveruicommon_la_OBJECTS)
@@ -326,7 +327,8 @@
 nmv-source-editor.cc \
 nmv-source-editor.h
 
-libnemiveruicommon_la_LIBADD = @NEMIVERUICOMMON_LIBS@
+libnemiveruicommon_la_LIBADD = @NEMIVERUICOMMON_LIBS@ -lutil
+libnemiveruicommon_la_CFLAGS = -fPIC -DPIC
 INCLUDES = @NEMIVERUICOMMON_CFLAGS@ \
 -I$(top_srcdir) \
 -I$(top_srcdir)/src \
@@ -383,8 +385,8 @@
 distclean-compile:
 	-rm -f *.tab.c
 
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ephy-spinner-tool-item.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ephy-spinner.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libnemiveruicommon_la-ephy-spinner-tool-item.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libnemiveruicommon_la-ephy-spinner.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nmv-popup-tip.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nmv-source-editor.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nmv-spinner-tool-item.Plo@am__quote@
@@ -413,6 +415,20 @@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LTCOMPILE) -c -o $@ $<
 
+libnemiveruicommon_la-ephy-spinner.lo: ephy-spinner.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libnemiveruicommon_la_CFLAGS) $(CFLAGS) -MT libnemiveruicommon_la-ephy-spinner.lo -MD -MP -MF "$(DEPDIR)/libnemiveruicommon_la-ephy-spinner.Tpo" -c -o libnemiveruicommon_la-ephy-spinner.lo `test -f 'ephy-spinner.c' || echo '$(srcdir)/'`ephy-spinner.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/libnemiveruicommon_la-ephy-spinner.Tpo" "$(DEPDIR)/libnemiveruicommon_la-ephy-spinner.Plo"; else rm -f "$(DEPDIR)/libnemiveruicommon_la-ephy-spinner.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='ephy-spinner.c' object='libnemiveruicommon_la-ephy-spinner.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libnemiveruicommon_la_CFLAGS) $(CFLAGS) -c -o libnemiveruicommon_la-ephy-spinner.lo `test -f 'ephy-spinner.c' || echo '$(srcdir)/'`ephy-spinner.c
+
+libnemiveruicommon_la-ephy-spinner-tool-item.lo: ephy-spinner-tool-item.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libnemiveruicommon_la_CFLAGS) $(CFLAGS) -MT libnemiveruicommon_la-ephy-spinner-tool-item.lo -MD -MP -MF "$(DEPDIR)/libnemiveruicommon_la-ephy-spinner-tool-item.Tpo" -c -o libnemiveruicommon_la-ephy-spinner-tool-item.lo `test -f 'ephy-spinner-tool-item.c' || echo '$(srcdir)/'`ephy-spinner-tool-item.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/libnemiveruicommon_la-ephy-spinner-tool-item.Tpo" "$(DEPDIR)/libnemiveruicommon_la-ephy-spinner-tool-item.Plo"; else rm -f "$(DEPDIR)/libnemiveruicommon_la-ephy-spinner-tool-item.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='ephy-spinner-tool-item.c' object='libnemiveruicommon_la-ephy-spinner-tool-item.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libnemiveruicommon_la_CFLAGS) $(CFLAGS) -c -o libnemiveruicommon_la-ephy-spinner-tool-item.lo `test -f 'ephy-spinner-tool-item.c' || echo '$(srcdir)/'`ephy-spinner-tool-item.c
+
 .cc.o:
 @am__fastdepCXX_TRUE@	if $(CXXCOMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
 @am__fastdepCXX_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
